// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("DATABASE_URL")
    directUrl = env("DIRECT_URL")
}

model section {
    name     String      @id
    category String
    content  String
    toc      toc_links[]
}

model toc_links {
    name        String
    sectionName String
    order       Int     @db.SmallInt
    degree      Int     @db.SmallInt
    section     section @relation(fields: [sectionName], references: [name], onDelete: Cascade)

    @@id([name, sectionName])
}
